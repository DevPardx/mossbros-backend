# CHANGELOG
<!-- Latest on top -->

## [1.0.0] - 2025-10-19
### Added
- Complete Customer Management System with motorcycle integration
- Customer controller with full CRUD operations (create, read, update, delete)
- Customer service layer with transactional operations for data integrity
- Customer routes with comprehensive validation and authentication protection
- OneToOne relationship between Customer and Motorcycle entities for better data modeling
- TypeScript types for Customer and Motorcycle entities with proper type safety
- Enhanced validation with snake_case field naming convention for API consistency
- Customer-Motorcycle transactional creation for atomic operations

### Changed
- Enhanced error handling across all controllers (auth, brand, model, customer)
- Added try-catch blocks with proper error logging and status codes
- Updated Customer entity from OneToMany to OneToOne relationship with Motorcycle
- Updated Motorcycle entity to use OneToOne relationship with Customer
- Improved error messages with specific context for different operations
- Enhanced server configuration to include customer routes

### Fixed
- Consistent error handling patterns across all API endpoints
- Proper HTTP status codes for different error scenarios (404 for not found, 500 for server errors)
- Database relationship integrity with proper cascade operations

## [1.0.0] - 2025-10-18
### Added
- Comprehensive brand seeding system with 12 motorcycle brands
- Model seeding system with 50+ real motorcycle models across all brands
- Cloudinary CDN integration for optimized brand logo delivery
- WebP format support for brand logos with better compression
- Duplicate prevention logic in seeding to avoid re-seeding existing data
- Real motorcycle model names for authentic data representation
- Proper brand-model relationships in seed data
- Enhanced seed orchestration with automatic execution order

## [1.0.0] - 2025-10-18
### Added
- Complete CRUD API for Brand management with authentication protection
- Complete CRUD API for Model management with authentication protection
- Brand controller with create, read, update, and delete operations
- Model controller with create, read, update, and delete operations
- Brand service layer for database operations and business logic
- Model service layer for database operations and business logic
- Comprehensive validation for brand routes (name validation, URL validation)
- Comprehensive validation for model routes with UUID parameter validation
- Bearer token authentication middleware for API protection
- Spanish localization for authentication error messages
- TypeScript types for Brand and Model entities

### Changed
- Enhanced authentication middleware with Bearer token support
- Updated authentication middleware error handling with proper HTTP status codes
- Improved error messages in auth service with Spanish localization
- Renamed `Login` type to `LoginType` for better naming consistency
- Updated authentication middleware to use UnauthorizedError and NotFoundError instead of BadRequestError

## [1.0.0] - 2025-10-17
### Added
- Cookie-based authentication system with HTTP-only cookies for enhanced security
- JWT token verification functionality for protected routes
- Authentication middleware for verifying JWT tokens from cookies
- Cookie parser middleware integration for handling cookies
- Logout functionality to clear authentication cookies
- Token verification endpoint to validate user authentication status
- Enhanced CORS configuration with credentials support
- Support for "Remember Me" functionality with extended token expiration

### Changed
- Modified login endpoint to set HTTP-only cookies instead of returning JWT tokens directly
- Updated authentication service to include token verification method
- Enhanced token utilities with JWT verification function
- Improved authentication controller with logout and verify methods
- Updated authentication routes with new logout and verify endpoints
- Modified CORS configuration to support credentials for cookie-based authentication

### Dependencies
- Added `cookie-parser` package for cookie handling
- Added `@types/cookie-parser` for TypeScript support

## [1.0.0] - 2025-10-12
### Added
- Initial release of the MossBros backend with PostgreSQL and Redis services.
- Docker Compose setup for easy deployment.
- Environment configuration for database connection.
- Basic project structure and documentation.
- README file with setup instructions.
- .gitignore file to exclude unnecessary files from version control.
- Bcrypt utilities for secure password hashing.
- CORS configuration to allow requests from the frontend.
- Nodemailer setup for sending emails.
- Error handling middleware for consistent error responses.
- Validation middleware for request data validation.
- Utility functions for token generation and email sending.
- User entity and repository for managing user data.
- User seeding script to create an initial owner user.
- Logging setup for monitoring application activity.
- Authentication routes, controller and service.